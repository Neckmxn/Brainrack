<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brainrack AI - Business Problem Solver</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <div class="logo">ğŸ§  Brainrack AI</div>
        <div class="menu-icon" id="menuIcon">
            <svg viewBox="0 0 24 24">
                <circle cx="12" cy="5" r="2"/>
                <circle cx="12" cy="12" r="2"/>
                <circle cx="12" cy="19" r="2"/>
            </svg>
        </div>
        <div class="dropdown-menu" id="dropdownMenu">
            <a href="dashboard.html" class="dropdown-item">ğŸ  Dashboard</a>
            <a href="index.html" class="dropdown-item">ğŸ’¬ AI Chat</a>
            <a href="image.html" class="dropdown-item">ğŸ¨ Image Generator</a>
            <a href="document.html" class="dropdown-item">ğŸ“„ Document Analyzer</a>
            <a href="video.html" class="dropdown-item">ğŸ¬ Video Generator</a>
            <a href="business.html" class="dropdown-item">ğŸ’¼ Business Solver</a>
            <a href="startup.html" class="dropdown-item">ğŸš€ Startup Ideas</a>
            <a href="weather.html" class="dropdown-item">ğŸŒ¤ï¸ Weather</a>
            <a href="news.html" class="dropdown-item">ğŸ“° News</a>
            <div class="dropdown-item" id="themeToggle">ğŸŒ“ Toggle Theme</div>
            <a href="contactus.html" class="dropdown-item">ğŸ“§ Contact Us</a>
        </div>
    </header>

    <div class="container">
        <div class="chat-container">
            <div class="chat-header">
                ğŸ’¼ AI Business Problem Solver
            </div>

            <div style="padding: 2rem;">
                <div class="form-group">
                    <label>Problem Category</label>
                    <select class="form-select" id="problemCategory">
                        <option value="strategy">ğŸ¯ Strategy & Planning</option>
                        <option value="marketing">ğŸ“£ Marketing & Sales</option>
                        <option value="operations">âš™ï¸ Operations & Efficiency</option>
                        <option value="finance">ğŸ’° Finance & Budgeting</option>
                        <option value="hr">ğŸ‘¥ Human Resources</option>
                        <option value="tech">ğŸ’» Technology & IT</option>
                        <option value="customer">ğŸ¤ Customer Service</option>
                        <option value="growth">ğŸ“ˆ Growth & Scaling</option>
                        <option value="other">ğŸ”§ Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Business Type</label>
                    <select class="form-select" id="businessType">
                        <option value="startup">ğŸš€ Startup</option>
                        <option value="small">ğŸª Small Business</option>
                        <option value="medium">ğŸ¢ Medium Enterprise</option>
                        <option value="large">ğŸ­ Large Corporation</option>
                        <option value="nonprofit">â¤ï¸ Non-Profit</option>
                        <option value="freelance">ğŸ’¼ Freelance/Solo</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Industry</label>
                    <input
                        type="text"
                        class="form-input"
                        id="industry"
                        placeholder="e.g., E-commerce, Healthcare, Education, SaaS"
                    >
                </div>

                <div class="form-group">
                    <label>Describe Your Problem</label>
                    <textarea
                        class="form-textarea"
                        id="problemDesc"
                        placeholder="Describe your business challenge in detail... Include context, what you've tried, and desired outcomes."
                        style="min-height: 150px;"
                    ></textarea>
                </div>

                <div class="form-group">
                    <label>Budget/Resources Available (Optional)</label>
                    <input
                        type="text"
                        class="form-input"
                        id="budget"
                        placeholder="e.g., $5,000, Limited budget, Team of 5 people"
                    >
                </div>

                <button class="btn-primary" id="solveBtn" style="width: 100%;">
                    Get Solution ğŸ’¡
                </button>

                <div id="resultArea"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        const problemCategory = document.getElementById('problemCategory');
        const businessType = document.getElementById('businessType');
        const industry = document.getElementById('industry');
        const problemDesc = document.getElementById('problemDesc');
        const budget = document.getElementById('budget');
        const solveBtn = document.getElementById('solveBtn');
        const resultArea = document.getElementById('resultArea');

        solveBtn.addEventListener('click', async () => {
            const problem = problemDesc.value.trim();

            if (!problem) {
                BrainrackAI.showToast('Please describe your business problem');
                return;
            }

            const fullProblem = `
                Business Type: ${businessType.options[businessType.selectedIndex].text}
                Industry: ${industry.value || 'Not specified'}
                Category: ${problemCategory.options[problemCategory.selectedIndex].text}
                ${budget.value ? `Budget/Resources: ${budget.value}` : ''}

                Problem:
                ${problem}

                Please provide:
                1. Analysis of the problem
                2. Multiple solution approaches
                3. Step-by-step implementation plan
                4. Potential challenges and how to overcome them
                5. Expected outcomes and metrics to track
                6. Alternative strategies if primary solution doesn't work
            `;

            solveBtn.disabled = true;
            solveBtn.textContent = 'Analyzing... â³';
            BrainrackAI.showLoading(resultArea, 'Analyzing your business challenge...');

            try {
                const response = await BrainrackAI.callAPI('/api/business-solver', 'POST', {
                    problem: fullProblem
                });

                resultArea.innerHTML = `
                    <div class="result-container">
                        <h3>Business Solution Analysis</h3>
                        <div style="background: var(--dark-surface); padding: 2rem; border-radius: 8px; line-height: 1.8; white-space: pre-wrap;">
                            ${response.solution}
                        </div>
                        <div style="margin-top: 2rem; display: flex; gap: 1rem; flex-wrap: wrap;">
                            <button class="btn-primary" onclick="copySolution()">
                                Copy Solution ğŸ“‹
                            </button>
                            <button class="btn-primary" onclick="downloadSolution()">
                                Download as PDF ğŸ“¥
                            </button>
                            <button class="btn-primary" onclick="getSimilarCases()">
                                Get Similar Cases ğŸ”
                            </button>
                        </div>
                        <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(74, 144, 226, 0.1); border-radius: 8px; border-left: 4px solid var(--accent-blue);">
                            <strong>ğŸ’¡ Pro Tip:</strong> Implement solutions incrementally and measure results at each step. 
                            Consider consulting with industry experts for critical decisions.
                        </div>
                    </div>
                `;

                window.currentSolution = response.solution;

                BrainrackAI.showToast('Solution generated successfully!');
            } catch (error) {
                BrainrackAI.showError(resultArea, 'Failed to generate solution. Please check your API configuration and try again.');
                console.error('Error:', error);
            } finally {
                solveBtn.disabled = false;
                solveBtn.textContent = 'Get Solution ğŸ’¡';
            }
        });

        function copySolution() {
            if (window.currentSolution) {
                BrainrackAI.copyToClipboard(window.currentSolution);
            }
        }

        function downloadSolution() {
            if (window.currentSolution) {
                const blob = new Blob([window.currentSolution], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'business-solution.txt';
                link.click();
                URL.revokeObjectURL(url);
                BrainrackAI.showToast('Solution downloaded!');
            }
        }

        function getSimilarCases() {
            BrainrackAI.showToast('Feature coming soon! This will show similar case studies.');
        }
    </script>
</body>
</html>